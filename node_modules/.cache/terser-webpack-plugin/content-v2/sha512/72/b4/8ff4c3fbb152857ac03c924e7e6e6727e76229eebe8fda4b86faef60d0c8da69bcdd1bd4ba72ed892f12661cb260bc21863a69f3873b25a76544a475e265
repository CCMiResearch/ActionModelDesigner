{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),Blockly.Blocks.bool1={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown([[\"variable1\",\"variable1\"],[\"variable2\",\"variable2\"],[\"variable3\",\"variable3\"]]),\"variables\").appendField(new Blockly.FieldDropdown([[\"==\",\"OPTIONNAME\"],[\"<=\",\"OPTIONNAME\"],[\">=\",\"OPTIONNAME\"],[\"<\",\"OPTIONNAME\"],[\">\",\"OPTIONNAME\"]]),\"comparator\").appendField(new Blockly.FieldTextInput(\"data value\"),\"data_value\"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(260)}},Blockly.Blocks.bool2={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown([[\"variable1\",\"variable1\"],[\"variable2\",\"variable2\"],[\"variable3\",\"variable3\"]]),\"variables\").appendField(new Blockly.FieldDropdown([[\"==\",\"OPTIONNAME\"],[\"<=\",\"OPTIONNAME\"],[\">=\",\"OPTIONNAME\"],[\"<\",\"OPTIONNAME\"],[\">\",\"OPTIONNAME\"]]),\"comparator\").appendField(new Blockly.FieldDropdown([[\"variable1\",\"variable1\"],[\"variable2\",\"variable2\"],[\"variable3\",\"variable3\"]]),\"variables\"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(260)}},Blockly.Blocks.parentheses={init:function(){this.appendDummyInput().appendField(\"(\"),this.appendStatementInput(\"bool statement\").setCheck(null),this.appendDummyInput().appendField(\"  )\"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(20)}},Blockly.Blocks.not={init:function(){this.appendDummyInput().appendField(\"NOT\"),this.appendStatementInput(\"bool statement\").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(20)}},Blockly.Blocks.and={init:function(){this.appendDummyInput().appendField(\"AND\"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(20)}},Blockly.Blocks.or={init:function(){this.appendDummyInput().appendField(\"OR\"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(20)}},Blockly.Blocks.action_assign={init:function(){this.setColour(210),this.appendDummyInput().appendField(\"Assign:\").appendField(new Blockly.FieldTextInput(\"\"),\"data1\").appendField(\"=\").appendField(new Blockly.FieldTextInput(\"\"),\"data2\"),this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.action_trans={init:function(){var t=new Blockly.FieldDropdown([[\"T1\",\"T1\"],[\"T2\",\"T2\"],[\"T3\",\"T3\"]]),e=new Blockly.FieldDropdown([[\"T1\",\"T1\"],[\"T2\",\"T2\"],[\"T3\",\"T3\"]]);this.setColour(300),this.appendDummyInput().appendField(e,\"Trans\").appendField(t,\"State\"),this.appendStatementInput(\"Parameters\"),this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.param_helper={init:function(){var t=new Blockly.FieldDropdown([[\"T1\",\"T1\"],[\"T2\",\"T2\"],[\"T3\",\"T3\"]]);this.setColour(60),this.appendDummyInput().appendField(new Blockly.FieldTextInput(\"\"),\"param\").appendField(\":\").appendField(t,\"Value\"),this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.dataField={init:function(){var t=new Blockly.FieldDropdown([[\"T1\",\"T1\"],[\"T2\",\"T2\"],[\"T3\",\"T3\"]]);this.setColour(75),this.appendDummyInput().appendField(t,\"Value\"),this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.rule={init:function(){toto=this,this.setColour(120),this.appendDummyInput().appendField(\"Rule: \").appendField(new Blockly.FieldTextInput(\"default text\"),\"RuleName\"),this.setMutator(new Blockly.Mutator([\"while\",\"with_helper\",\"else\"])),this.resetVariables(),this.updateShape_()},resetVariables:function(){this.join_=0,this.when=!0,this.while=!1,this.with=!1,this.if=!0,this.then=!0,this.else=!1},mutationToDom:function(){var t=document.createElement(\"mutation\");return t.setAttribute(\"join\",this.join_),t.setAttribute(\"when\",this.when),t.setAttribute(\"while\",this.while),t.setAttribute(\"with\",this.with),t.setAttribute(\"if\",this.if),t.setAttribute(\"then\",this.then),t.setAttribute(\"else\",this.else),t},domToMutation:function(t){},decompose:function(t){var e=t.newBlock(\"rule_helper\");e.initSvg();var n=e.nextConnection;if(1==this.while){var i=t.newBlock(\"while\");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}if(1==this.with){var o=t.newBlock(\"with_helper\");o.initSvg(),n.connect(o.previousConnection),n=o.nextConnection}if(1==this.else){var l=t.newBlock(\"else\");l.initSvg(),n.connect(l.previousConnection),n=l.nextConnection}return e},compose:function(t){this.resetVariables();var e=[null],n=[null],i=[null],o=[null];n.push(this.getInput(\"IF\").connection.targetConnection),i.push(this.getInput(\"THEN\").connection.targetConnection);for(var l=t.nextConnection.targetBlock();l;){switch(l.type){case\"while\":this.while=!0;break;case\"with_helper\":this.with=!0,e.push(l.statementConnection_);break;case\"else\":this.else=!0,o.push(l.statementConnection_)}l=l.nextConnection&&l.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(e,n,i,o)},updateShape_:function(){if(this.getInput(\"WHEN\")&&this.removeInput(\"WHEN\"),this.getInput(\"WHILE\")&&this.removeInput(\"WHILE\"),this.getInput(\"WITH\")&&this.removeInput(\"WITH\"),this.getInput(\"IF\")&&this.removeInput(\"IF\"),this.getInput(\"THEN\")&&this.removeInput(\"THEN\"),this.getInput(\"ELSE\")&&this.removeInput(\"ELSE\"),1==this.when){var t=new Blockly.FieldDropdown(amdModeler.whenStateOptions(amdModeler)),e=new Blockly.FieldDropdown(amdModeler.whenTransOptions(amdModeler));this.appendDummyInput(\"WHEN\").appendField(\"When\").appendField(e,\"whenTrans\").appendField(t,\"whenState\")}if(1==this.while){var n=new Blockly.FieldDropdown(amdModeler.whileStateOptions(amdModeler)),i=new Blockly.FieldDropdown(amdModeler.whileTransOptions(amdModeler));this.appendDummyInput(\"WHILE\").appendField(\"While\").appendField(i,\"whileTrans\").appendField(n,\"whileState\")}1==this.with&&this.appendStatementInput(\"WITH\").setCheck([\"with\"]).appendField(\"With\"),1==this.if&&this.appendStatementInput(\"IF\").setCheck(\"if\").appendField(\"If\"),1==this.then&&this.appendStatementInput(\"THEN\").setCheck([\"action_assign\",\"action_trans\"]).appendField(\"Then\"),1==this.else&&this.appendStatementInput(\"ELSE\").setCheck([\"action_assign\",\"action_trans\"]).appendField(\"Else\")},reconnectChildBlocks_:function(t,e,n,i){1==this.with&&Blockly.Mutator.reconnect(t[1],this,\"WITH\"),1==this.if&&Blockly.Mutator.reconnect(e[1],this,\"IF\"),1==this.then&&Blockly.Mutator.reconnect(n[1],this,\"THEN\"),1==this.else&&Blockly.Mutator.reconnect(i[1],this,\"ELSE\")},rebuildShape_:function(){var t=[null],e=[null],n=[null],i=[null];if(this.getInput(\"WITH\")){var o=this.getInput(\"WITH\");t.push(o.connection.targetConnection)}if(this.getInput(\"IF\")){var l=this.getInput(\"IF\");e.push(l.connection.targetConnection)}if(this.getInput(\"THEN\")){var s=this.getInput(\"THEN\");n.push(s.connection.targetConnection)}if(this.getInput(\"ELSE\")){var a=this.getInput(\"Else\");i.push(a.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(t,e,n,i)},saveConnections:function(t){for(var e=t.nextConnection.targetBlock();e;){var n;switch(e.type){case\"with_helper\":n=this.getInput(\"WITH\");break;case\"else\":n=this.getInput(\"ELSE\")}e.statementConnection_=n&&n.connection.targetConnection,e=e.nextConnection&&e.nextConnection.targetBlock()}}};Blockly.inject(\"blocklyDiv\",{media:\"node_modules/blockly/media/\",toolbox:document.getElementById(\"toolbox\")})}]);","extractedComments":[]}